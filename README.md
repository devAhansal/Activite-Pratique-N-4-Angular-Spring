# Activité Pratique N° 4 - Angular - Spring

Ce projet est divisé en plusieurs parties.

#Partie 1 et 2

## Partie 1

### 1. Création du Projet Angular

![Créer projet](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/ba1feda4-664c-4179-ad5f-958bbc3f49bc)

### 2. Installation de Bootstrap

![Installer Bootstrap](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/57ec8cfd-c00c-4cd8-a082-f2d94128f775)

### 3. Ajout de Bootstrap aux styles

![Ajouter Bootstrap aux styles](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/6c7c2ca0-d231-4340-aa19-dfb1159a729d)

![Ajouter Bootstrap aux styles et scripts Angular](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/1f9cd00e-63ff-469e-98c3-cf8182b9fc9b)

### 4. Deuxième méthode pour ajouter Bootstrap aux styles CSS

![Deuxième méthode pour ajouter Bootstrap](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/64ada3fe-0d1d-4d9b-b7d7-4cc16cc9ef64)

### 5. Ajout de nouveaux composants

![Ajouter nouveaux composants](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/5159f3fe-78d2-4171-80c2-8dd78d786df0)

### 6. Création d'éléments de navigation

![Créer éléments de navigation](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/eba8b322-607c-43ef-9a10-909546dc91d6)

### 7. Création des routes

![Créer routes](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/db461971-b342-41db-992c-01de3bc36ef4)

### 8. Définir les fonctions de navigation

![Définir fonctions de navigation](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/648bbb22-a184-4ecc-8c8b-9ea25eeaa87a)

### 9. Vue de l'application

![Vue de l'application](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/d9a4177d-dfa4-40b2-8586-1fad746a557f)

### 10. Navigation par tableau d'actions des routes en utilisant Data Binding

![Navigation par tableau d'actions](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/68ee4f02-2705-4eb2-bf88-a50c6c0ef71a)

### 11. Affichage des produits

![Afficher produits](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/48255a99-6917-4602-a3e6-0efe03557889)

![Code pour afficher produits](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/503bc381-497d-471f-8a31-a17366d165d7)

### 12. Installation de Json Server

![Installer Json Server](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/4e65f3ac-00c6-4160-ac74-995a57827524)

### 13. Création de la base de données db.json pour Json-Server

![Créer db.json](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/befe89cf-0ce8-4221-aae5-99f0ee0c1406)

### 14. Lancer Json-Server sur le port 8089

![Lancer Json-Server](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/5b08dcd6-a0fd-4cda-a1e0-744281f6e63b)

### 15. Générer le service de produit

![Générer service de produit](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/7cb9f0ae-8ece-479a-9929-d54d67ef823d)

### 16. Implémentation du service de produit

![Service de produit](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/846d2905-de83-4bd9-add3-6cd97f10e773)

### 17. Créer un modèle de produit pour l'utiliser comme type dans l'application

![Créer modèle de produit](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/3f67d4b0-0faa-44a7-bd38-3d154f5d0e56)

### 18. Améliorer getProduct avec Observable sans utiliser subscribe

![Améliorer getProduct](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/a1b9994f-f423-423a-b8fe-821720071aaf)

### 19. Supprimer un produit

![Supprimer produit](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/52400487-7d7a-47c8-a04f-36f51c9168ca)

## Partie 2

### 1. Ajouter un formulaire de recherche

![Ajouter formulaire de recherche](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/5eea2871-4ef4-4fe7-83a7-ff63ac04862f)

### 2. Ajouter la fonction de recherche

![Ajouter fonction de recherche](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/ee1646cf-724d-42a0-9631-d873c7e12410)

### 3. Ajouter le service de recherche

![Ajouter service de recherche](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/50119174-9ae9-4d7d-a96d-e185f8739bc7)

### 4. Ajouter des boutons de pagination

![Ajouter boutons de pagination](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/8ee869ad-3903-469e-a811-a8fd04a20870)

### 5. Fonction pour changer de page

![Fonction changer de page](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/8671304e-f8eb-409a-bff3-bbbdaaecf288)

### 6. Ajouter un formulaire pour ajouter un nouveau produit en utilisant FormGroup de ReactiveFormsModule

#### Ajouter formulaire pour nouveau produit
![Ajouter formulaire pour nouveau produit](https://github.com/S-AHANSAL/Activite-Pratique-N-4-Angular-Spring/assets/81721069/29a4aa0b-fd74-428c-9951-c6f317bb1675)

### 7. Ajouter un bouton et une route pour l'édition des produits

#### Ajouter bouton d'édition
![Ajouter bouton d'édition](https://github.com/devAhansal/Activite-Pratique-N-4-Angular-Spring/assets/81721069/2dc4dd81-e258-4598-bb03-0ae21483add1)

#### Ajouter route de composant d'édition
![Ajouter route de composant d'édition](https://github.com/devAhansal/Activite-Pratique-N-4-Angular-Spring/assets/81721069/92a33706-dc3b-4b1c-bda8-e8fd1c9422fe)

#### Fonction de navigation vers la page d'édition
![Fonction de navigation vers la page d'édition](https://github.com/devAhansal/Activite-Pratique-N-4-Angular-Spring/assets/81721069/17a607da-5cb0-4432-8183-76dae0a50e2c)

## Partie 3
Cette partie concerne la centralisation des données de l'application dans un service "app-state", où nous allons stocker l'état de l'application pour faciliter la communication entre les composants dans une hiérarchie de composants.

### 1. Création du service app-state

#### Création du service app-state
![Création du service app-state](https://github.com/devAhansal/Activite-Pratique-N-4-Angular-Spring/assets/81721069/8d3d28d5-1c3b-4a52-b6b7-03bf3aee5b56)

#### Service app-state
![Service app-state](https://github.com/devAhansal/Activite-Pratique-N-4-Angular-Spring/assets/81721069/11201745-bfec-4798-9ed2-87180c649dad)

### 2. Utilisation du service app-state dans les composants produits

#### Injection du service
![Injection du service](https://github.com/devAhansal/Activite-Pratique-N-4-Angular-Spring/assets/81721069/1516d9da-4f39-4f7f-b3cd-484c8f4ee156)

#### Utilisation du service app-state dans le composant produit
![Utilisation du service app-state dans le composant produit](https://github.com/devAhansal/Activite-Pratique-N-4-Angular-Spring/assets/81721069/513bce79-b894-46d8-be0d-9dc39e2a4b28)
![image](https://github.com/devAhansal/Activite-Pratique-N-4-Angular-Spring/assets/81721069/c6955d18-168c-4cde-aa8c-fac3ff67c5f5)
### 3. Création d'un nouveau composant dashboard

#### Création du dashboard
![Création du dashboard](https://github.com/devAhansal/Activite-Pratique-N-4-Angular-Spring/assets/81721069/58e8ca3d-3a8d-48d2-bc61-6c660c39476f)

#### Composant dashboard avec appState
![Composant dashboard avec appState](https://github.com/devAhansal/Activite-Pratique-N-4-Angular-Spring/assets/81721069/60fe6687-1e8f-48bb-b5c2-3ab407c15d17)

#### Interface web avec le dashboard
![Interface web avec le dashboard](https://github.com/devAhansal/Activite-Pratique-N-4-Angular-Spring/assets/81721069/b7ce0887-ca9c-4b82-9899-ab87c6325694)

### 4. Bonne pratique : au lieu d'accéder directement à l'état, il est préférable de passer par setProductState

#### Bonne pratique
![Bonne pratique](https://github.com/devAhansal/Activite-Pratique-N-4-Angular-Spring/assets/81721069/1d491a9b-2953-4ff2-81cf-eb0aad6d4e9d)

### 5. Ajouter un état de chargement des données et de gestion des erreurs

#### Ajouter les variables state et errorMessage
![Ajouter les variables state et errorMessage](https://github.com/devAhansal/Activite-Pratique-N-4-Angular-Spring/assets/81721069/69acccb6-0fd9-4ce0-ad4e-3a3b8ec735b7)

#Partie 3
## Troisième Partie : Spring Angular

### Objectif

Développer une application qui permet de gérer le paiement des étudiants. Chaque étudiant peut effectuer plusieurs paiements.

- Chaque étudiant est défini par : 
  - id
  - firstName
  - lastName
  - email
  - filière
  - photo
- Chaque paiement est défini par : 
  - id
  - code
  - date
  - type (CASH, CHECK, TRANSFER)
  - status (CREATED, VALIDATED, REJECTED)
  - file (fichier pdf représentant le reçu de paiement)

## A. Développer et Tester la Partie Backend avec Spring

### Étapes

1. **Créer les Entités JPA**

   ```java
   @Entity
   @NoArgsConstructor @AllArgsConstructor @Getter @Setter @ToString @Builder
   public class Payment {
       @Id @GeneratedValue(strategy = GenerationType.IDENTITY)
       private Long id;
       private LocalDate date;
       private double amount;
       private PaymentType type;
       private PaymentStatus status;
       private String file;
       @ManyToOne
       private Student student;
   }

   @Entity
   @NoArgsConstructor @AllArgsConstructor @Getter @Setter @ToString @Builder
   public class Student {
       @Id
       private String id;
       private String firstName;
       private String lastName;
       @Column(unique=true)
       private String code;
       private String programId;
       private String photo;
   }
